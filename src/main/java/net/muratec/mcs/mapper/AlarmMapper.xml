<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="net.muratec.mcs.mapper.AlarmMapper" >
  <resultMap id="BaseResultMap" type="net.muratec.mcs.model.Alarm" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Mar 03 10:44:35 CST 2020.
    -->
    <result column="SET_TIME" property="setTime" jdbcType="VARCHAR" />
    <result column="CLEAR_TIME" property="clearTime" jdbcType="VARCHAR" />
    <result column="LLC_ID" property="llcId" jdbcType="VARCHAR" />
    <!-- STD 2020.02.26 董 天津村研  MCSV4　GUI開発  Ver3.0 Rev.000  -->
    <result column="VEHICLE_ID" jdbcType="VARCHAR" property="vehicleId" />
    <result column="TSC_ID" jdbcType="VARCHAR" property="tscId" />
    <!-- END 2020.02.26 董 天津村研  MCSV4　GUI開発  Ver3.0 Rev.000  -->
    <result column="ALARM_ID" property="alarmId" jdbcType="VARCHAR" />
    <result column="ALARM_SUB_CODE" property="alarmSubCode" jdbcType="VARCHAR" />
    <result column="ALARM_LOC" property="alarmLoc" jdbcType="VARCHAR" />
    <result column="ALARM_LEVEL" property="alarmLevel" jdbcType="VARCHAR" />
    <result column="ALARM_REPORT_FLG" property="alarmReportFlg" jdbcType="VARCHAR" />
    <result column="ALARM_TEXT" property="alarmText" jdbcType="VARCHAR" />
    <result column="ERROR_ID" property="errorId" jdbcType="VARCHAR" />
    <!-- 2020.02.25 董 天津村研  MCSV4　GUI開発  Ver3.0 Rev.000  -->
    <result column="CLASS" jdbcType="VARCHAR" property="classs" />
    <result column="RECOVERY_OPTION" property="recoveryOption" jdbcType="VARCHAR" />
    <result column="EQP_INFO" property="eqpInfo" jdbcType="VARCHAR" />
    <result column="LLC_TYPE" property="llcType" jdbcType="VARCHAR" />
    <result column="MACHINE_ID" property="machineId" jdbcType="VARCHAR" />
    <result column="STOCKER_UNIT_ID" property="stockerUnitId" jdbcType="VARCHAR" />
    <result column="STOCKER_UNIT_STATUS" property="stockerUnitStatus" jdbcType="VARCHAR" />
    <result column="ZONE_ID" property="zoneId" jdbcType="VARCHAR" />
    <result column="COMMAND_ID" property="commandId" jdbcType="VARCHAR" />
    <result column="SOURCE" property="source" jdbcType="VARCHAR" />
    <result column="DEST" property="dest" jdbcType="VARCHAR" />
    <result column="CARRIER_ID" property="carrierId" jdbcType="VARCHAR" />
    <result column="CARRIER_LOC" property="carrierLoc" jdbcType="VARCHAR" />
    <result column="CARRIER_ID2" property="carrierId2" jdbcType="VARCHAR" />
    <result column="CARRIER_ID3" property="carrierId3" jdbcType="VARCHAR" />
    <result column="CARRIER_ID4" property="carrierId4" jdbcType="VARCHAR" />
    <result column="VEHICLE_ID" property="vehicleId" jdbcType="VARCHAR" />
    <result column="TSC_ID" property="tscId" jdbcType="VARCHAR" />
  </resultMap>
  <sql id="Example_Where_Clause" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Mar 03 10:44:35 CST 2020.
    -->
    <where >
      <foreach collection="oredCriteria" item="criteria" separator="or" >
        <if test="criteria.valid" >
          <trim prefix="(" suffix=")" prefixOverrides="and" >
            <foreach collection="criteria.criteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Mar 03 10:44:35 CST 2020.
    -->
    <where >
      <foreach collection="example.oredCriteria" item="criteria" separator="or" >
        <if test="criteria.valid" >
          <trim prefix="(" suffix=")" prefixOverrides="and" >
            <foreach collection="criteria.criteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Mar 03 10:44:35 CST 2020.
    -->
    SET_TIME, CLEAR_TIME, LLC_ID, ALARM_ID, ALARM_SUB_CODE, ALARM_LOC, ALARM_LEVEL, ALARM_REPORT_FLG, 
    ALARM_TEXT, ERROR_ID, CLASS, RECOVERY_OPTION, EQP_INFO, LLC_TYPE, MACHINE_ID, STOCKER_UNIT_ID, 
    STOCKER_UNIT_STATUS, ZONE_ID, COMMAND_ID, SOURCE, DEST, CARRIER_ID, CARRIER_LOC, 
    CARRIER_ID2, CARRIER_ID3, CARRIER_ID4, VEHICLE_ID, TSC_ID
  </sql>
  <select id="selectByExample" resultMap="BaseResultMap" parameterType="net.muratec.mcs.model.AlarmExample" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Mar 03 10:44:35 CST 2020.
    -->
    select
    <if test="distinct" >
      distinct
    </if>
    <include refid="Base_Column_List" />
    from ALARM
    <if test="_parameter != null" >
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null" >
      order by ${orderByClause}
    </if>
  </select>
  <delete id="deleteByExample" parameterType="net.muratec.mcs.model.AlarmExample" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Mar 03 10:44:35 CST 2020.
    -->
    delete from ALARM
    <if test="_parameter != null" >
      <include refid="Example_Where_Clause" />
    </if>
  </delete>
  <insert id="insert" parameterType="net.muratec.mcs.model.Alarm" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Mar 03 10:44:35 CST 2020.
    -->
    insert into ALARM (SET_TIME, CLEAR_TIME, LLC_ID, 
      ALARM_ID, ALARM_SUB_CODE, ALARM_LOC, 
      ALARM_LEVEL, ALARM_REPORT_FLG, ALARM_TEXT, 
      ERROR_ID, CLASS, RECOVERY_OPTION, 
      EQP_INFO, LLC_TYPE, MACHINE_ID, 
      STOCKER_UNIT_ID, STOCKER_UNIT_STATUS, ZONE_ID, 
      COMMAND_ID, SOURCE, DEST, 
      CARRIER_ID, CARRIER_LOC, CARRIER_ID2, 
      CARRIER_ID3, CARRIER_ID4, VEHICLE_ID, 
      TSC_ID)
    values (#{setTime,jdbcType=VARCHAR}, #{clearTime,jdbcType=VARCHAR}, #{llcId,jdbcType=VARCHAR}, 
      #{alarmId,jdbcType=VARCHAR}, #{alarmSubCode,jdbcType=VARCHAR}, #{alarmLoc,jdbcType=VARCHAR}, 
      #{alarmLevel,jdbcType=VARCHAR}, #{alarmReportFlg,jdbcType=VARCHAR}, #{alarmText,jdbcType=VARCHAR}, 
      #{errorId,jdbcType=VARCHAR}, #{class,jdbcType=VARCHAR}, #{recoveryOption,jdbcType=VARCHAR}, 
      #{eqpInfo,jdbcType=VARCHAR}, #{llcType,jdbcType=VARCHAR}, #{machineId,jdbcType=VARCHAR}, 
      #{stockerUnitId,jdbcType=VARCHAR}, #{stockerUnitStatus,jdbcType=VARCHAR}, #{zoneId,jdbcType=VARCHAR}, 
      #{commandId,jdbcType=VARCHAR}, #{source,jdbcType=VARCHAR}, #{dest,jdbcType=VARCHAR}, 
      #{carrierId,jdbcType=VARCHAR}, #{carrierLoc,jdbcType=VARCHAR}, #{carrierId2,jdbcType=VARCHAR}, 
      #{carrierId3,jdbcType=VARCHAR}, #{carrierId4,jdbcType=VARCHAR}, #{vehicleId,jdbcType=VARCHAR}, 
      #{tscId,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="net.muratec.mcs.model.Alarm" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Mar 03 10:44:35 CST 2020.
    -->
    insert into ALARM
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="setTime != null" >
        SET_TIME,
      </if>
      <if test="clearTime != null" >
        CLEAR_TIME,
      </if>
      <if test="llcId != null" >
        LLC_ID,
      </if>
      <if test="alarmId != null" >
        ALARM_ID,
      </if>
      <if test="alarmSubCode != null" >
        ALARM_SUB_CODE,
      </if>
      <if test="alarmLoc != null" >
        ALARM_LOC,
      </if>
      <if test="alarmLevel != null" >
        ALARM_LEVEL,
      </if>
      <if test="alarmReportFlg != null" >
        ALARM_REPORT_FLG,
      </if>
      <if test="alarmText != null" >
        ALARM_TEXT,
      </if>
      <if test="errorId != null" >
        ERROR_ID,
      </if>
      <if test="class != null" >
        CLASS,
      </if>
      <if test="recoveryOption != null" >
        RECOVERY_OPTION,
      </if>
      <if test="eqpInfo != null" >
        EQP_INFO,
      </if>
      <if test="llcType != null" >
        LLC_TYPE,
      </if>
      <if test="machineId != null" >
        MACHINE_ID,
      </if>
      <if test="stockerUnitId != null" >
        STOCKER_UNIT_ID,
      </if>
      <if test="stockerUnitStatus != null" >
        STOCKER_UNIT_STATUS,
      </if>
      <if test="zoneId != null" >
        ZONE_ID,
      </if>
      <if test="commandId != null" >
        COMMAND_ID,
      </if>
      <if test="source != null" >
        SOURCE,
      </if>
      <if test="dest != null" >
        DEST,
      </if>
      <if test="carrierId != null" >
        CARRIER_ID,
      </if>
      <if test="carrierLoc != null" >
        CARRIER_LOC,
      </if>
      <if test="carrierId2 != null" >
        CARRIER_ID2,
      </if>
      <if test="carrierId3 != null" >
        CARRIER_ID3,
      </if>
      <if test="carrierId4 != null" >
        CARRIER_ID4,
      </if>
      <if test="vehicleId != null" >
        VEHICLE_ID,
      </if>
      <if test="tscId != null" >
        TSC_ID,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="setTime != null" >
        #{setTime,jdbcType=VARCHAR},
      </if>
      <if test="clearTime != null" >
        #{clearTime,jdbcType=VARCHAR},
      </if>
      <if test="llcId != null" >
        #{llcId,jdbcType=VARCHAR},
      </if>
      <if test="alarmId != null" >
        #{alarmId,jdbcType=VARCHAR},
      </if>
      <if test="alarmSubCode != null" >
        #{alarmSubCode,jdbcType=VARCHAR},
      </if>
      <if test="alarmLoc != null" >
        #{alarmLoc,jdbcType=VARCHAR},
      </if>
      <if test="alarmLevel != null" >
        #{alarmLevel,jdbcType=VARCHAR},
      </if>
      <if test="alarmReportFlg != null" >
        #{alarmReportFlg,jdbcType=VARCHAR},
      </if>
      <if test="alarmText != null" >
        #{alarmText,jdbcType=VARCHAR},
      </if>
      <if test="errorId != null" >
        #{errorId,jdbcType=VARCHAR},
      </if>
      <if test="class != null" >
        #{class,jdbcType=VARCHAR},
      </if>
      <if test="recoveryOption != null" >
        #{recoveryOption,jdbcType=VARCHAR},
      </if>
      <if test="eqpInfo != null" >
        #{eqpInfo,jdbcType=VARCHAR},
      </if>
      <if test="llcType != null" >
        #{llcType,jdbcType=VARCHAR},
      </if>
      <if test="machineId != null" >
        #{machineId,jdbcType=VARCHAR},
      </if>
      <if test="stockerUnitId != null" >
        #{stockerUnitId,jdbcType=VARCHAR},
      </if>
      <if test="stockerUnitStatus != null" >
        #{stockerUnitStatus,jdbcType=VARCHAR},
      </if>
      <if test="zoneId != null" >
        #{zoneId,jdbcType=VARCHAR},
      </if>
      <if test="commandId != null" >
        #{commandId,jdbcType=VARCHAR},
      </if>
      <if test="source != null" >
        #{source,jdbcType=VARCHAR},
      </if>
      <if test="dest != null" >
        #{dest,jdbcType=VARCHAR},
      </if>
      <if test="carrierId != null" >
        #{carrierId,jdbcType=VARCHAR},
      </if>
      <if test="carrierLoc != null" >
        #{carrierLoc,jdbcType=VARCHAR},
      </if>
      <if test="carrierId2 != null" >
        #{carrierId2,jdbcType=VARCHAR},
      </if>
      <if test="carrierId3 != null" >
        #{carrierId3,jdbcType=VARCHAR},
      </if>
      <if test="carrierId4 != null" >
        #{carrierId4,jdbcType=VARCHAR},
      </if>
      <if test="vehicleId != null" >
        #{vehicleId,jdbcType=VARCHAR},
      </if>
      <if test="tscId != null" >
        #{tscId,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <select id="countByExample" parameterType="net.muratec.mcs.model.AlarmExample" resultType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Mar 03 10:44:35 CST 2020.
    -->
    select count(*) from ALARM
    <if test="_parameter != null" >
      <include refid="Example_Where_Clause" />
    </if>
  </select>
  <update id="updateByExampleSelective" parameterType="map" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Mar 03 10:44:35 CST 2020.
    -->
    update ALARM
    <set >
      <if test="record.setTime != null" >
        SET_TIME = #{record.setTime,jdbcType=VARCHAR},
      </if>
      <if test="record.clearTime != null" >
        CLEAR_TIME = #{record.clearTime,jdbcType=VARCHAR},
      </if>
      <if test="record.llcId != null" >
        LLC_ID = #{record.llcId,jdbcType=VARCHAR},
      </if>
      <if test="record.alarmId != null" >
        ALARM_ID = #{record.alarmId,jdbcType=VARCHAR},
      </if>
      <if test="record.alarmSubCode != null" >
        ALARM_SUB_CODE = #{record.alarmSubCode,jdbcType=VARCHAR},
      </if>
      <if test="record.alarmLoc != null" >
        ALARM_LOC = #{record.alarmLoc,jdbcType=VARCHAR},
      </if>
      <if test="record.alarmLevel != null" >
        ALARM_LEVEL = #{record.alarmLevel,jdbcType=VARCHAR},
      </if>
      <if test="record.alarmReportFlg != null" >
        ALARM_REPORT_FLG = #{record.alarmReportFlg,jdbcType=VARCHAR},
      </if>
      <if test="record.alarmText != null" >
        ALARM_TEXT = #{record.alarmText,jdbcType=VARCHAR},
      </if>
      <if test="record.errorId != null" >
        ERROR_ID = #{record.errorId,jdbcType=VARCHAR},
      </if>
      <if test="record.class != null" >
        CLASS = #{record.class,jdbcType=VARCHAR},
      </if>
      <if test="record.recoveryOption != null" >
        RECOVERY_OPTION = #{record.recoveryOption,jdbcType=VARCHAR},
      </if>
      <if test="record.eqpInfo != null" >
        EQP_INFO = #{record.eqpInfo,jdbcType=VARCHAR},
      </if>
      <if test="record.llcType != null" >
        LLC_TYPE = #{record.llcType,jdbcType=VARCHAR},
      </if>
      <if test="record.machineId != null" >
        MACHINE_ID = #{record.machineId,jdbcType=VARCHAR},
      </if>
      <if test="record.stockerUnitId != null" >
        STOCKER_UNIT_ID = #{record.stockerUnitId,jdbcType=VARCHAR},
      </if>
      <if test="record.stockerUnitStatus != null" >
        STOCKER_UNIT_STATUS = #{record.stockerUnitStatus,jdbcType=VARCHAR},
      </if>
      <if test="record.zoneId != null" >
        ZONE_ID = #{record.zoneId,jdbcType=VARCHAR},
      </if>
      <if test="record.commandId != null" >
        COMMAND_ID = #{record.commandId,jdbcType=VARCHAR},
      </if>
      <if test="record.source != null" >
        SOURCE = #{record.source,jdbcType=VARCHAR},
      </if>
      <if test="record.dest != null" >
        DEST = #{record.dest,jdbcType=VARCHAR},
      </if>
      <if test="record.carrierId != null" >
        CARRIER_ID = #{record.carrierId,jdbcType=VARCHAR},
      </if>
      <if test="record.carrierLoc != null" >
        CARRIER_LOC = #{record.carrierLoc,jdbcType=VARCHAR},
      </if>
      <if test="record.carrierId2 != null" >
        CARRIER_ID2 = #{record.carrierId2,jdbcType=VARCHAR},
      </if>
      <if test="record.carrierId3 != null" >
        CARRIER_ID3 = #{record.carrierId3,jdbcType=VARCHAR},
      </if>
      <if test="record.carrierId4 != null" >
        CARRIER_ID4 = #{record.carrierId4,jdbcType=VARCHAR},
      </if>
      <if test="record.vehicleId != null" >
        VEHICLE_ID = #{record.vehicleId,jdbcType=VARCHAR},
      </if>
      <if test="record.tscId != null" >
        TSC_ID = #{record.tscId,jdbcType=VARCHAR},
      </if>
    </set>
    <if test="_parameter != null" >
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExample" parameterType="map" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Mar 03 10:44:35 CST 2020.
    -->
    update ALARM
    set SET_TIME = #{record.setTime,jdbcType=VARCHAR},
      CLEAR_TIME = #{record.clearTime,jdbcType=VARCHAR},
      LLC_ID = #{record.llcId,jdbcType=VARCHAR},
      ALARM_ID = #{record.alarmId,jdbcType=VARCHAR},
      ALARM_SUB_CODE = #{record.alarmSubCode,jdbcType=VARCHAR},
      ALARM_LOC = #{record.alarmLoc,jdbcType=VARCHAR},
      ALARM_LEVEL = #{record.alarmLevel,jdbcType=VARCHAR},
      ALARM_REPORT_FLG = #{record.alarmReportFlg,jdbcType=VARCHAR},
      ALARM_TEXT = #{record.alarmText,jdbcType=VARCHAR},
      ERROR_ID = #{record.errorId,jdbcType=VARCHAR},
      CLASS = #{record.class,jdbcType=VARCHAR},
      RECOVERY_OPTION = #{record.recoveryOption,jdbcType=VARCHAR},
      EQP_INFO = #{record.eqpInfo,jdbcType=VARCHAR},
      LLC_TYPE = #{record.llcType,jdbcType=VARCHAR},
      MACHINE_ID = #{record.machineId,jdbcType=VARCHAR},
      STOCKER_UNIT_ID = #{record.stockerUnitId,jdbcType=VARCHAR},
      STOCKER_UNIT_STATUS = #{record.stockerUnitStatus,jdbcType=VARCHAR},
      ZONE_ID = #{record.zoneId,jdbcType=VARCHAR},
      COMMAND_ID = #{record.commandId,jdbcType=VARCHAR},
      SOURCE = #{record.source,jdbcType=VARCHAR},
      DEST = #{record.dest,jdbcType=VARCHAR},
      CARRIER_ID = #{record.carrierId,jdbcType=VARCHAR},
      CARRIER_LOC = #{record.carrierLoc,jdbcType=VARCHAR},
      CARRIER_ID2 = #{record.carrierId2,jdbcType=VARCHAR},
      CARRIER_ID3 = #{record.carrierId3,jdbcType=VARCHAR},
      CARRIER_ID4 = #{record.carrierId4,jdbcType=VARCHAR},
      VEHICLE_ID = #{record.vehicleId,jdbcType=VARCHAR},
      TSC_ID = #{record.tscId,jdbcType=VARCHAR}
    <if test="_parameter != null" >
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
    <!--　ここより、独自SQLを記載する　-->

  <!-- Alarm情報取得  -->

  <resultMap id="SearchResultMap" type="net.muratec.mcs.model.AlarmModel">
    <!-- DEL STD APL 2020.02.20 song 天津村研  MCSV4　GUI開発  Ver3.0 Rev.000  -->
    <!--
    <result column="ALARM_CODE" jdbcType="VARCHAR" property="alarmCode" />
    <result column="ALARM_SUB_CODE" jdbcType="VARCHAR" property="alarmSubCode" />
    <result column="ALARM_LEVEL" jdbcType="VARCHAR" property="alarmLevel" />
    <result column="ERROR_ID" jdbcType="VARCHAR" property="errorId" />
    <result column="CLASS" jdbcType="VARCHAR" property="classInformation" />
    <result column="RECOVERY_OPTION" jdbcType="VARCHAR" property="recoveryOption" />
    <result column="MACHINE_ID" jdbcType="VARCHAR" property="machineId" />
    <result column="ZONE_ID" jdbcType="VARCHAR" property="zoneId" />
    <result column="STOCKER_UNIT_ID" jdbcType="VARCHAR" property="stockerUnitId" />
    <result column="STOCKER_UNIT_STATE" jdbcType="VARCHAR" property="stockerUnitState" />
    <result column="CARRIER_JOB_ID" jdbcType="VARCHAR" property="carrierJobId" />
    <result column="AMHS_ID" jdbcType="VARCHAR" property="amhsId" />
    <result column="SRC_LOC" jdbcType="VARCHAR" property="sourceLocation" />
    <result column="DST_LOC" jdbcType="VARCHAR" property="destinationLocation" />
    <result column="AMHS_TYPE" jdbcType="VARCHAR" property="type" />
    <result column="CARRIER_ID" jdbcType="VARCHAR" property="carrierId" />
    <result column="EQP_INFO" jdbcType="VARCHAR" property="eqpInfo" />
    <result column="AMHS_TYPE_CODE" jdbcType="DECIMAL" property="amhsType" />
     -->
    <!-- DEL END APL 2020.02.20 song 天津村研  MCSV4　GUI開発  Ver3.0 Rev.000  -->
    
    
    <!--  <id column="SET_TIME" jdbcType="TIMESTAMP" property="occurrenceTime" />  --><!-- DEL APL 2020.02.22 song 天津村研  MCSV4　GUI開発  Ver3.0 Rev.000  -->
    <id column="SET_TIME" jdbcType="VARCHAR" property="setTime" />  <!-- ADD APL 2020.02.22 song 天津村研  MCSV4　GUI開発  Ver3.0 Rev.000  -->
    <result column="alarm_id" jdbcType="VARCHAR" property="alarmId" />
    <result column="alarm_loc" jdbcType="VARCHAR" property="alarmLocation" />
    <result column="alarm_text" jdbcType="VARCHAR" property="alarmText" />
    <!-- ADD STD APL 2020.02.20 song 天津村研  MCSV4　GUI開発  Ver3.0 Rev.000  -->
    <result column="llc_id" jdbcType="VARCHAR" property="llcId" />
    <result column="llc_name" jdbcType="VARCHAR" property="llcName" />
    <!-- ADD END APL 2020.02.20 song 天津村研  MCSV4　GUI開発  Ver3.0 Rev.000  -->
  </resultMap>

  <!--
    Alarm情報一覧を取得する。
  -->
  <!-- MACS4#0114 Mod -->
  
  <!-- MODEL STD APL 2020.02.20 song 天津村研  MCSV4　GUI開発  Ver3.0 Rev.000  -->
  <!--
  <select id="selectList" parameterType="net.muratec.mcs.entity.info.ReqGetAlarmListEntity" resultMap="SearchResultMap">
    select
        SET_TIME
      , ALARM_ID
      , ALARM_CODE
      , ALARM_SUB_CODE
      , ALARM_LOC
      , ALARM_LEVEL
      , ALARM_TEXT
      , ERROR_ID
      , CLASS
      , RECOVERY_OPTION
      , MACHINE_ID
      , ZONE_ID
      , STOCKER_UNIT_ID
      , STOCKER_UNIT_STATE
      , CARRIER_JOB_ID
      , AMHS_ID
      , SRC_LOC
      , DST_LOC
      , AMHS_TYPE
      , CARRIER_ID
      , EQP_INFO
      , AMHS_TYPE_CODE
    from (
      select
          ROW_NUMBER() over(order by SET_TIME asc) rn
        , SET_TIME
        , ALARM_ID
        , ALARM_CODE
        , ALARM_SUB_CODE
        , ALARM_LOC
        , (select STRING from STRING_MASTER where KEY = 'ALARM_LEVEL_STRING' and CODE = ALARM_LEVEL) AS ALARM_LEVEL
        , ALARM_TEXT
        , ERROR_ID
        , CLASS
        , RECOVERY_OPTION
        , MACHINE_ID
        , ZONE_ID
        , STOCKER_UNIT_ID
        , (select STRING from STRING_MASTER where KEY = 'STOCKER_UNIT_STATE_STRING' and CODE = ALARM.STOCKER_UNIT_STATE) AS STOCKER_UNIT_STATE
        , CARRIER_JOB_ID
        , AMHS_ID
        , SRC_LOC
        , DST_LOC
        , (select STRING from STRING_MASTER where KEY = 'AMHS_TYPE_STRING' and CODE = ALARM.AMHS_TYPE) AS AMHS_TYPE
        , CARRIER_ID
        , EQP_INFO
        , AMHS_TYPE AS AMHS_TYPE_CODE
      from
        ALARM
      order by
        SET_TIME asc
    )
    <include refid="selectRecordWhere" />
  </select>
  -->
  
  <select id="selectList" parameterType="net.muratec.mcs.entity.top.ReqGetAlarmListEntity" resultMap="SearchResultMap">
    select
		set_time,
		llc_id,  
		llc_name,  
		alarm_id,  
		alarm_loc,  
		alarm_text 
	from 
    ( select
            row_number() over(order by alarm.alarm_id asc) rn,
			alarm.set_time,
			alarm.llc_id,  
			NVL(TSC.tsc_id, NVL(LLC.llc_name, alarm.llc_id)) llc_name,  
			alarm.alarm_id,  
			alarm.alarm_loc,  
			alarm.alarm_text 
		from alarm  
		  left outer join LLC on alarm.llc_id = LLC.llc_id
		  left outer join TSC on alarm.tsc_id is not null and  alarm.tsc_id = TSC.tsc_id
        order by
          set_time DESC)
    <include refid="selectRecordWhere" />
  </select>
  <!-- MODEL END APL 2020.02.20 song 天津村研  MCSV4　GUI開発  Ver3.0 Rev.000  -->
  <!-- STD APL 2020.03.04 董 天津村研  MCSV4　GUI開発  Ver3.0 Rev.000 -->
  <select id="selectAlarmList" parameterType="net.muratec.mcs.model.AlarmModel" resultMap="SearchResultMap">
     SELECT alarm.llc_id,
		  NVL(tsc.tsc_id, NVL(llc.llc_name, alarm.llc_id)) llc_name,
		  alarm.alarm_id,
		  alarm.alarm_loc,
		  alarm.alarm_text,
		  alarm.set_time
		FROM alarm
		LEFT OUTER JOIN llc ON alarm.llc_id = llc.llc_id
		LEFT OUTER JOIN tsc ON alarm.tsc_id IS NOT NULL AND alarm.tsc_id = tsc.tsc_id
		WHERE (alarm.llc_id  = #{llcId,jdbcType=VARCHAR}
				AND (alarm.tsc_id    = #{tscId,jdbcType=VARCHAR}
				OR alarm.tsc_id     IS NULL ))
				OR ((alarm.tsc_id    = #{tscId,jdbcType=VARCHAR})
				OR (alarm.alarm_loc IN (SELECT ohb_port_id FROM ohb_port WHERE set_vendor = #{llcId,jdbcType=VARCHAR})))
		ORDER BY set_time DESC
  </select>
  <!-- END APL 2020.03.04 董 天津村研  MCSV4　GUI開発  Ver3.0 Rev.000 -->
  
  <!--
    条件に合致したCarrier情報のレコード数を取得する。
  -->
  <select id="getCount" parameterType="net.muratec.mcs.entity.top.ReqGetAlarmListEntity" resultType="java.lang.Integer">
    select
      count(*)
    from
      ALARM
  </select>

  <!--
    レコード取得範囲。
  -->
  <sql id="selectRecordWhere">
    <where>
      <if test="fromRecordNum != null and toRecordNum != null">
        rn between #{fromRecordNum,jdbcType=DECIMAL} and #{toRecordNum,jdbcType=DECIMAL}
      </if>
    </where>
  </sql>
</mapper>